{"remainingRequest":"/home/sklaus/Bureau/coop/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sklaus/Bureau/coop/src/views/Membres.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sklaus/Bureau/coop/src/views/Membres.vue","mtime":1643969324939},{"path":"/home/sklaus/Bureau/coop/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sklaus/Bureau/coop/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/sklaus/Bureau/coop/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sklaus/Bureau/coop/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1lbWJyZXM6IFtdLAogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldE1lbWJlcnMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldE1lbWJlcnMoKSB7CiAgICAgIHRoaXMuJGFwaQogICAgICAuZ2V0KGBtZW1iZXJzYCkKICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgdGhpcy5tZW1icmVzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSkKICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgIHRoaXMuZmxhc2hNZXNzYWdlLnNob3coewogICAgICAgICAgc3RhdHVzOiAiZXJyb3IiLAogICAgICAgICAgdGl0bGU6ICJTb21ldGhpbmcgd2VudCB3cm9uZyA6LyIsCiAgICAgICAgICBtZXNzYWdlOiBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UsCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZU1lbWJlcihpZCkgewogICAgICB0aGlzLiRhcGkKICAgICAgICAuZGVsZXRlKGBtZW1iZXJzLyR7aWR9YCkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIGFsZXJ0KCJMJ3V0aWxpc2F0ZXVyIGEgYmllbiDDqXTDqSBzdXBwcmltw6kiKTsKICAgICAgICAvLyAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbWVtYnJlcyIpOwogICAgICAgICAgdGhpcy5nZXRNZW1iZXJzKCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBhbGVydChlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UpOwogICAgICAgIH0pOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Membres.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Membres.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <Header />\n    <Navigation />\n    <section class=\"section\">\n\n      <h4 class=\"title is-4 has-text-centered\">Liste des membres</h4>\n\n      <div class=\"card\" :key=\"membre.id\" v-for=\"membre in membres\">\n        <div class=\"card-content\">\n            <div class=\"media\">\n                <div class=\"media-content\">\n                <p class=\"title is-4\">{{membre.fullname}}</p>\n                <p class=\"subtitle is-6\">{{membre.email}}</p>\n                </div>\n            </div>\n\n            <div class=\"content\">\n                <p>Compte crée le {{membre.created_at}}</p>\n            </div>\n\n            <footer class=\"card-footer\">\n                <a href=\"#\" class=\"card-footer-item\" style=\"pointer-events: none\">Edit</a>\n                <a @click=\"deleteMember(membre.id)\" class=\"card-footer-item\">Delete</a>\n            </footer>\n        </div>\n      </div>\n    </section>\n    <FlashMessage></FlashMessage>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  data() {\n    return {\n      membres: [],\n    };\n  },\n  mounted() {\n    this.getMembers();\n  },\n  methods: {\n    getMembers() {\n      this.$api\n      .get(`members`)\n      .then((response) => {\n        this.membres = response.data;\n      })\n      .catch((error) => {\n        this.flashMessage.show({\n          status: \"error\",\n          title: \"Something went wrong :/\",\n          message: error.response.data.message,\n        });\n      });\n    },\n    deleteMember(id) {\n      this.$api\n        .delete(`members/${id}`)\n        .then((response) => {\n          alert(\"L'utilisateur a bien été supprimé\");\n        //   this.$router.push(\"/membres\");\n          this.getMembers();\n        })\n        .catch((error) => {\n          alert(error.response.data.message);\n        });\n    },\n  },\n};\n</script>\n\n<style></style>\n"]}]}
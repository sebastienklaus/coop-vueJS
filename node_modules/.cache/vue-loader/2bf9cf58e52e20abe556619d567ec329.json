{"remainingRequest":"/home/sklaus/Bureau/coop/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sklaus/Bureau/coop/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sklaus/Bureau/coop/src/App.vue","mtime":1643971167929},{"path":"/home/sklaus/Bureau/coop/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sklaus/Bureau/coop/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/sklaus/Bureau/coop/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sklaus/Bureau/coop/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYXBwIiwKICBtb3VudGVkKCkgewogICAgdGhpcy4kYXBpLmdldCgicGluZyIpLnRoZW4oKTsKICAgIGlmICghdGhpcy4kc3RvcmUuc3RhdGUudG9rZW4pIHsKICAgICAgYWxlcnQoJ1ZvdHJlIHNlc3Npb24gYSBleHBpcsOpLiBWZXVpbGxleiBzYWlzaXIgdm9zIGlkZW50aWZpYW50cyBwb3VyIHZvdXMgY29ubmVjdGVyIMOgIG5vdXZlYXUnKQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2Nvbm5leGlvbiIpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy4kYXBpKGBtZW1iZXJzLyR7dGhpcy4kc3RvcmUuc3RhdGUubWVtYmVyLmlkfS9zaWduZWRpbmApCiAgICAgIC50aGVuKHRoaXMuZGVtYXJyZXIpCiAgICAgIC5jYXRjaCh0aGlzLnNlQ29ubmVjdGVyKTsKICAgIH0KICB9LAoKICBtZXRob2RzOiB7CiAgICByZWFkeSgpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRSZWFkeSIsIHRydWUpOwogICAgfSwKICAgIGRlbWFycmVyKCkgewogICAgICB0aGlzLiRhcGkuZ2V0KCJtZW1iZXJzIikudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldE1lbWJlciIsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgIHRoaXMucmVhZHkoKTsKICAgICAgfSk7CiAgICB9LAogICAgc2VDb25uZWN0ZXIoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0VG9rZW4iLCBmYWxzZSk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvY29ubmV4aW9uIik7CiAgICAgIHRoaXMucmVhZHkoKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <section class=\"section\">\n    <h1 align=\"center\" style=\"font-size: 2em\">Coop app</h1>\n      <router-view/>\n  </section>\n</template>\n\n\n\n<script>\nexport default {\n  name: \"app\",\n  mounted() {\n    this.$api.get(\"ping\").then();\n    if (!this.$store.state.token) {\n      alert('Votre session a expiré. Veuillez saisir vos identifiants pour vous connecter à nouveau')\n      this.$router.push(\"/connexion\");\n    } else {\n      this.$api(`members/${this.$store.state.member.id}/signedin`)\n      .then(this.demarrer)\n      .catch(this.seConnecter);\n    }\n  },\n\n  methods: {\n    ready() {\n      this.$store.commit(\"setReady\", true);\n    },\n    demarrer() {\n      this.$api.get(\"members\").then((response) => {\n        this.$store.commit(\"setMember\", response.data);\n        this.ready();\n      });\n    },\n    seConnecter() {\n      this.$store.commit(\"setToken\", false);\n      this.$router.push(\"/connexion\");\n      this.ready();\n    },\n  },\n};\n</script>\n\n\n<style lang=\"scss\">\n</style>\n"]}]}